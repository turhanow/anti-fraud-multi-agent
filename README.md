# ๐ง Multi-Agent Fraud Detection System

## Architecture & Agent Responsibilities

---

## 1. ะฆะตะปั ัะธััะตะผั

ะะฐะฝะฝะฐั ัะธััะตะผะฐ ะฟัะตะดะฝะฐะทะฝะฐัะตะฝะฐ ะดะปั ะพะฑะฝะฐััะถะตะฝะธั ะผะพัะตะฝะฝะธัะตัะบะธั ัะธะฝะฐะฝัะพะฒัั ััะฐะฝะทะฐะบัะธะน ะฝะฐ ะพัะฝะพะฒะต ะผัะปััะธะฐะณะตะฝัะฝะพะน ะฐััะธัะตะบัััั.

**ะะปััะตะฒะฐั ะธะดะตั:**
> ะะต ัััะตััะฒัะตั ะพะดะฝะพะณะพ ัะฝะธะฒะตััะฐะปัะฝะพะณะพ ัะธะณะฝะฐะปะฐ ะผะพัะตะฝะฝะธัะตััะฒะฐ.  
> ะะตัะตะฝะธะต ัะพัะผะธััะตััั ะบะฐะบ ัะตะทัะปััะฐั ะฝะตะทะฐะฒะธัะธะผะพะณะพ ะฐะฝะฐะปะธะทะฐ ะฝะตัะบะพะปัะบะธั ะฐะณะตะฝัะพะฒ,
> ะบะฐะถะดัะน ะธะท ะบะพัะพััั ะพัะฒะตัะฐะตั ะทะฐ ะพัะดะตะปัะฝัะน ะฐัะฟะตะบั ัะธัะบะฐ.

**ะกะธััะตะผะฐ ะพัะธะตะฝัะธัะพะฒะฐะฝะฐ ะฝะฐ:**
- explainable AI (ะพะฑัััะฝะธะผะพััั ัะตัะตะฝะธะน)
- ัะฐััะธััะตะผะพััั (ะดะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒัั ะฐะณะตะฝัะพะฒ ะฑะตะท ะฟะตัะตะฟะธััะฒะฐะฝะธั ัะธััะตะผั)
- enterprise-ready ะฟะพะดัะพะด (ัะธะฝัะตั, ะฑะฐะฝะบะธ, e-commerce)

---

## 2. ะััะธัะตะบัััะฝัะน ะฟัะธะฝัะธะฟ

### 2.1 ะะพัะตะผั ะผัะปััะธะฐะณะตะฝัะฝะฐั ะฐััะธัะตะบัััะฐ

**ะะปะฐััะธัะตัะบะธะน ML-ะฟะพะดัะพะด:**
- ะพะดะธะฝ ะฑะพะปััะพะน ะผะพะดะตะปัะฝัะน ะฟะฐะนะฟะปะฐะนะฝ
- ัะปะพะถะฝะฐั ะพัะปะฐะดะบะฐ
- ัะปะฐะฑะฐั ะพะฑัััะฝะธะผะพััั

**ะะฐั ะฟะพะดัะพะด:**
- ะบะฐะถะดัะน ะฐะณะตะฝั โ ะฐะฒัะพะฝะพะผะฝัะน ะฐะฝะฐะปะธัะธะบ
- ะฐะณะตะฝัั ะฝะตะทะฐะฒะธัะธะผั ะธ ัะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝั
- ัะธะฝะฐะปัะฝะพะต ัะตัะตะฝะธะต ะฐะณัะตะณะธััะตั ัะธะณะฝะฐะปั

---

## 3. ะัะฝะพะฒะฝัะต ะบะพะผะฟะพะฝะตะฝัั ัะธััะตะผั

```text
โโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   Event Producers        โ
โ (payments/core systems)  โ
โโโโโโโโโโโโโฌโโโโโโโโโโโโโโโ
            โ publish
            v
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                 Kafka Cluster                โ
โ                                              โ
โ  [transactions]  --------------------------โ โ
โ  [agent.velocity.requests]                 โ โ
โ  [agent.profile.requests]                  โ โ
โ  [agent.geo.requests]                      โ โ
โ  [agent.device.requests]                   โ โ
โ  [agent.merchant.requests]                 โ โ
โ  [agent.ml.requests]                       โ โ
โ                                              โ
โ  [agent.velocity.results]                  โ โ
โ  [agent.profile.results]                   โ โ
โ  [agent.geo.results]                       โ โ
โ  [agent.device.results]                    โ โ
โ  [agent.merchant.results]                  โ โ
โ  [agent.ml.results]                        โ โ
โ                                              โ
โ  [decision.results] <--------------------โ โ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโผโโผโโ
                                           โ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโ               โ โ
โ      Orchestrator        โ               โ โ
โ  (Dispatch requests)     โ               โ โ
โโโโโโโโโโโโโฌโโโโโโโโโโโโโโโ               โ โ
            โ consume transactions         โ โ
            โ publish agent requests       โ โ
            v                               โ โ
 โโโโโโโโโโโโผโโโโโโโโโโโฌโโโโโโโโโโโ         โ โ
 โ          โ          โ          โ         โ โ
Velocity  Profile     Geo       Device      โ โ
 Agent     Agent      Agent      Agent       โ โ
            โ                               โ โ
        Merchant Agent                      โ โ
            โ                               โ โ
          ML Agent                          โ โ
            โ publish results               โ โ
            v                               โ โ
     Decision Agent ------------------------โ โ
           consume agent.results              โ
           publish decision.results           โ
```

## 4. Domain Model (ะพัะฝะพะฒะฐ ะฒัะตะน ัะธััะตะผั)

### 4.1 Transaction (ัะตะฝััะฐะปัะฝัะน ะพะฑัะตะบั)

ะัะต ะฐะณะตะฝัั ัะฐะฑะพัะฐัั ะฝะต ั raw CSV, ะฐ ั ะตะดะธะฝัะผ ะพะฑัะตะบัะพะผ `Transaction`.

**ะัะธะผะตั ะปะพะณะธัะตัะบะธั ะณััะฟะฟ ะดะฐะฝะฝัั:**

- **ะะดะตะฝัะธัะธะบะฐัะธั**
    - `transaction_id`
    - `customer_id`
    - `card_number` (masked)
- **ะัะตะผะตะฝะฝัะต ัะฐัะฐะบัะตัะธััะธะบะธ**
    - `timestamp`
- **ะคะธะฝะฐะฝัั**
    - `amount`
    - `currency`
    - `card_type`
    - `card_present`
- **ะะตััะฐะฝั**
    - `merchant`
    - `merchant_category`
    - `merchant_type`
    - `merchant_risk_score`
- **ะะตะพะณัะฐัะธั**
    - `country`
    - `city`
- **ะฃัััะพะนััะฒะพ**
    - `device_type`
    - `device_fingerprint`
- **ะัะพัะธะปั ะบะปะธะตะฝัะฐ**
    - `account_age`
    - `typical_spending_range`
    - `preferred_devices`
    - `fraud_protection_enabled`

## 5. ะะณะตะฝัะฝะฐั ะผะพะดะตะปั

### ะะฑัะธะน ะบะพะฝััะฐะบั ะฐะณะตะฝัะฐ

ะะฐะถะดัะน ะฐะณะตะฝั:
- ะฟะพะปััะฐะตั ะพะฑัะตะบั `Transaction`
- ะฒะพะทะฒัะฐัะฐะตั ััััะบัััะธัะพะฒะฐะฝะฝัะน ัะธะณะฝะฐะป ัะธัะบะฐ

**ะกัะฐะฝะดะฐัั ะพัะฒะตัะฐ ะฐะณะตะฝัะฐ:**
```json
{
  "agent": "VelocityAgent",
  "score": 0.0..1.0,
  "risk_level": "LOW | MEDIUM | HIGH",
  "explanation": "Human-readable explanation",
  "features_used": ["feature_1", "feature_2"]
}
```

## 6. OrchestratorAgent

- **ะะพะปั**: ะฆะตะฝััะฐะปัะฝัะน ะบะพะพัะดะธะฝะฐัะพั ัะธััะตะผั.
- **ะัะฒะตัััะฒะตะฝะฝะพััั**:
    - ัะฟัะฐะฒะปัะตั ะถะธะทะฝะตะฝะฝัะผ ัะธะบะปะพะผ ะฐะฝะฐะปะธะทะฐ
    - ัะฐัััะปะฐะตั ััะฐะฝะทะฐะบัะธั ะฐะณะตะฝัะฐะผ
    - ัะพะฑะธัะฐะตั ัะตะทัะปััะฐัั
    - ะฟะตัะตะดะฐัั ะฐะณัะตะณะธัะพะฒะฐะฝะฝัะต ัะธะณะฝะฐะปั ะฒ `DecisionAgent`
- **ะะพัะตะผั ะพะฝ ะฝัะถะตะฝ**:
    - ะธะทะพะปะธััะตั ะฐะณะตะฝัะพะฒ ะดััะณ ะพั ะดััะณะฐ
    - ะฟะพะทะฒะพะปัะตั ะปะตะณะบะพ ะดะพะฑะฐะฒะปััั / ัะฑะธัะฐัั ะฐะณะตะฝัะพะฒ
    - ัะฟัะพัะฐะตั ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต
- **ะะฐััะตัะฝั ะฟัะพะตะบัะธัะพะฒะฐะฝะธั**:
    - ะผะฐัััััะธะทะฐัะธั ะฐะณะตะฝัะพะฒ
    - ะพัะบะตัััะฐัะธั ะธ ะฐะณัะตะณะธัะพะฒะฐะฝะธะต ัะธะณะฝะฐะปะพะฒ
    - ะฟะฐัะฐะปะปะตะปัะฝะพะต ะฒัะฟะพะปะฝะตะฝะธะต ะฝะตะทะฐะฒะธัะธะผัั ะฐะฝะฐะปะธะทะพะฒ
- **ะฃัะฐััะฒัะตั ะฒ ะฟัะพัะตััะฐั**:
    - ัะฐัะฟัะตะดะตะปะตะฝะธะต ััะฐะฝะทะฐะบัะธะธ ะฟะพ ะฐะณะตะฝัะฐะผ
    - ัะธะฝััะพะฝะธะทะฐัะธั ัะตะทัะปััะฐัะพะฒ
    - ะฟะพะดะณะพัะพะฒะบะฐ ัะฒะพะดะฝะพะณะพ ะบะพะฝัะตะบััะฐ ะดะปั ะฟัะธะฝััะธั ัะตัะตะฝะธั

## 7. VelocityAgent

- **ะะฐะทะฝะฐัะตะฝะธะต**: ะะฝะฐะปะธะท ะดะธะฝะฐะผะธะบะธ ััะฐะฝะทะฐะบัะธะน ะฒะพ ะฒัะตะผะตะฝะธ.
- **ะัะฝะพะฒะฝะพะน ะฒะพะฟัะพั**: ะะฐัะบะพะปัะบะพ ะฟะพะฒะตะดะตะฝะธะต ะบะปะธะตะฝัะฐ ัะตะนัะฐั ะพัะบะปะพะฝัะตััั ะพั ะตะณะพ ะพะฑััะฝะพะน ััะฐะฝะทะฐะบัะธะพะฝะฝะพะน ัะบะพัะพััะธ?
- **ะัะฟะพะปัะทัะตะผัะต ัะธัะธ**:
    - `timestamp`
    - `customer_id`
    - `transaction_amount`
    - `transaction_count` (ะทะฐ ะพะบะฝะพ ะฒัะตะผะตะฝะธ)
- **ะัะธะผะตัั ะฟัะฐะฒะธะป**:
    - N ััะฐะฝะทะฐะบัะธะน ะทะฐ M ะผะธะฝัั
    - ัะตะทะบะธะน ัะพัั ััะผะผั
    - ะฐะฝะพะผะฐะปัะฝะพ ะบะพัะพัะบะธะน ะธะฝัะตัะฒะฐะป ะผะตะถะดั ะพะฟะตัะฐัะธัะผะธ
- **ะขะธะฟ ัะธะณะฝะฐะปะฐ**: ะะพะฒะตะดะตะฝัะตัะบะฐั ะฐะฝะพะผะฐะปะธั.
- **ะะฐััะตัะฝั ะฟัะพะตะบัะธัะพะฒะฐะฝะธั**:
    - ัะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัะน ะฐะณะตะฝั (single-responsibility)
    - rule-based ะฐะฝะฐะปะธะท ะบะฐะบ ะธะฝััััะผะตะฝั
- **ะฃัะฐััะฒัะตั ะฒ ะฟัะพัะตััะฐั**:
    - ะฒััะฒะปะตะฝะธะต ะฐะฝะพะผะฐะปะธะน ัะบะพัะพััะธ
    - ะฟะพะดะฐัะฐ ะฟะพะฒะตะดะตะฝัะตัะบะพะณะพ ัะธะณะฝะฐะปะฐ ะดะปั ัะตัะตะฝะธั

## 8. ProfileAgent

- **ะะฐะทะฝะฐัะตะฝะธะต**: ะกัะฐะฒะฝะตะฝะธะต ัะตะบััะตะน ััะฐะฝะทะฐะบัะธะธ ั ะธััะพัะธัะตัะบะธะผ ะฟัะพัะธะปะตะผ ะบะปะธะตะฝัะฐ.
- **ะัะฝะพะฒะฝะพะน ะฒะพะฟัะพั**: ะะพัะพะถะฐ ะปะธ ััะฐ ััะฐะฝะทะฐะบัะธั ะฝะฐ ัะธะฟะธัะฝะพะต ะฟะพะฒะตะดะตะฝะธะต ะดะฐะฝะฝะพะณะพ ะบะปะธะตะฝัะฐ?
- **ะัะฟะพะปัะทัะตะผัะต ัะธัะธ**:
    - `account_age`
    - `typical_spending_range`
    - `merchant_category`
    - `preferred_devices`
- **ะัะธะผะตัั ัะธะณะฝะฐะปะพะฒ**:
    - ััะผะผะฐ ะฒะฝะต ะฟัะธะฒััะฝะพะณะพ ะดะธะฐะฟะฐะทะพะฝะฐ
    - ะฝะพะฒะฐั ะบะฐัะตะณะพัะธั ัะฐััะพะดะพะฒ
    - ะฝะตัะพะพัะฒะตัััะฒะธะต ััััะพะนััะฒะฐ ะฟัะพัะธะปั
- **ะะฐััะตัะฝั ะฟัะพะตะบัะธัะพะฒะฐะฝะธั**:
    - ัะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัะน ะฐะณะตะฝั
    - ััะฐะฒะฝะตะฝะธะต ั ะฟัะพัะธะปะตะผ (state-aware ะฐะฝะฐะปะธะท)
- **ะฃัะฐััะฒัะตั ะฒ ะฟัะพัะตััะฐั**:
    - ะฟัะพะฒะตัะบะฐ ะพัะบะปะพะฝะตะฝะธะน ะพั ะฟัะพัะธะปั
    - ัะพัะผะธัะพะฒะฐะฝะธะต ะฟะตััะพะฝะฐะปะธะทะธัะพะฒะฐะฝะฝะพะณะพ ัะธัะบะฐ

## 9. GeoRiskAgent

- **ะะฐะทะฝะฐัะตะฝะธะต**: ะัะตะฝะบะฐ ะณะตะพะณัะฐัะธัะตัะบะธั ัะธัะบะพะฒ.
- **ะัะฝะพะฒะฝะพะน ะฒะพะฟัะพั**: ะะฐัะบะพะปัะบะพ ัะตะบััะฐั ะปะพะบะฐัะธั ัะพะพัะฒะตัััะฒัะตั ะพะฑััะฝะพะน ะณะตะพะณัะฐัะธะธ ะบะปะธะตะฝัะฐ?
- **ะัะฟะพะปัะทัะตะผัะต ัะธัะธ**:
    - `country`
    - `city`
    - `currency`
    - ะฟัะตะดัะดััะธะต ะปะพะบะฐัะธะธ ะบะปะธะตะฝัะฐ
- **ะัะธะผะตัั ัะธะณะฝะฐะปะพะฒ**:
    - ะฝะตะฒะพะทะผะพะถะฝะพะต ะฟะตัะตะผะตัะตะฝะธะต (travel velocity)
    - ะฒััะพะบะฐั ัะธัะบ-ะพัะตะฝะบะฐ ัััะฐะฝั
    - ะฝะตัะพะพัะฒะตัััะฒะธะต ะฒะฐะปััั ัะตะณะธะพะฝั
- **ะะฐััะตัะฝั ะฟัะพะตะบัะธัะพะฒะฐะฝะธั**:
    - ัะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัะน ะฐะณะตะฝั
    - ะบะพะฝัะตะบััะฝะฐั ะฒะฐะปะธะดะฐัะธั (geo-consistency checks)
- **ะฃัะฐััะฒัะตั ะฒ ะฟัะพัะตััะฐั**:
    - ะพัะตะฝะบะฐ ะณะตะพัะธัะบะพะฒ
    - ะฒััะฒะปะตะฝะธะต ะฝะตัะพัััะบะพะฒะพะบ ะปะพะบะฐัะธะธ

## 10. DeviceAgent

- **ะะฐะทะฝะฐัะตะฝะธะต**: ะะฝะฐะปะธะท ััััะพะนััะฒ ะธ fingerprints.
- **ะัะฝะพะฒะฝะพะน ะฒะพะฟัะพั**: ะะฐัะบะพะปัะบะพ ะดะพะฒะตัะตะฝะฝัะผ ัะฒะปัะตััั ััััะพะนััะฒะพ, ั ะบะพัะพัะพะณะพ ะฒัะฟะพะปะฝะตะฝะฐ ััะฐะฝะทะฐะบัะธั?
- **ะัะฟะพะปัะทัะตะผัะต ัะธัะธ**:
    - `device_type`
    - `device_fingerprint`
    - `card_present`
- **ะัะธะผะตัั ัะธะณะฝะฐะปะพะฒ**:
    - ะฝะพะฒัะน fingerprint
    - `card_not_present` + ะฒััะพะบะฐั ััะผะผะฐ
    - ะฝะตัะพะฒะฟะฐะดะตะฝะธะต `device_type` ั ะฟัะพัะธะปะตะผ
- **ะะฐััะตัะฝั ะฟัะพะตะบัะธัะพะฒะฐะฝะธั**:
    - ัะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัะน ะฐะณะตะฝั
    - ัะธะณะฝะฐะปั ะดะพะฒะตัะธั ััััะพะนััะฒะฐ (device trust heuristics)
- **ะฃัะฐััะฒัะตั ะฒ ะฟัะพัะตััะฐั**:
    - ะบะพะฝััะพะปั ััััะพะนััะฒ ะธ fingerprints
    - ััะธะปะตะฝะธะต ัะตัะตะฝะธั ะฟัะธ ะฝะพะฒัั/ะฐะฝะพะผะฐะปัะฝัั ััััะพะนััะฒะฐั

## 11. MerchantAgent

- **ะะฐะทะฝะฐัะตะฝะธะต**: ะัะตะฝะบะฐ ัะธัะบะฐ, ัะฒัะทะฐะฝะฝะพะณะพ ั ะฟัะพะดะฐะฒัะพะผ.
- **ะัะฝะพะฒะฝะพะน ะฒะพะฟัะพั**: ะะฐัะบะพะปัะบะพ ัะธัะบะพะฒะฐะฝ ัะฐะผ ะผะตััะฐะฝั, ะฝะตะทะฐะฒะธัะธะผะพ ะพั ะบะปะธะตะฝัะฐ?
- **ะะปััะตะฒัะต ัะธะณะฝะฐะปั**: ัะธัะบโัะบะพั ะผะตััะฐะฝัะฐ, ัะธัะบโะบะฐัะตะณะพัะธะธ, online + ะฒััะพะบะฐั ััะผะผะฐ, ะฟะพะดะพะทัะธัะตะปัะฝัะต ะธะผะตะฝะฐ.
- **ะะพะดัะพะฑะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั**: `docs/merchant-agent.md` (ะฒะบะปััะฐั ะฑัะดััะธะต ัะธัะธ)
- **ะะฐััะตัะฝั ะฟัะพะตะบัะธัะพะฒะฐะฝะธั**:
    - rule-based ะฐะณะตะฝั
    - ะผะพะดัะปัะฝัะต ะฟัะฐะฒะธะปะฐ ั DI
- **ะฃัะฐััะฒัะตั ะฒ ะฟัะพัะตััะฐั**:
    - ะฝะตะทะฐะฒะธัะธะผะฐั ะพัะตะฝะบะฐ ะผะตััะฐะฝัะฐ
    - ะดะพะฑะฐะฒะปะตะฝะธะต ะพะฑัััะฝะธะผะพะณะพ ัะธัะบ-ัะธะณะฝะฐะปะฐ

## 12. MLModelAgent

- **ะะฐะทะฝะฐัะตะฝะธะต**: ะกัะฐัะธััะธัะตัะบะฐั ะพัะตะฝะบะฐ ะฒะตัะพััะฝะพััะธ ะผะพัะตะฝะฝะธัะตััะฒะฐ.
- **ะัะพะฑะตะฝะฝะพััั**: ML-ะฐะณะตะฝั ะะ ะฟัะธะฝะธะผะฐะตั ัะธะฝะฐะปัะฝะพะต ัะตัะตะฝะธะต.
- **ะัะฟะพะปัะทัะตะผัะต ัะธัะธ**:
    - ะฐะณัะตะณะธัะพะฒะฐะฝะฝัะต engineered features
    - ะธััะพัะธัะตัะบะธะต labels (fraud)
- **ะะพะทะผะพะถะฝัะต ะผะพะดะตะปะธ**:
    - Gradient Boosting (XGBoost / LightGBM)
    - Isolation Forest
    - Autoencoder
- **ะะพะปั ะฒ ัะธััะตะผะต**:
    - ะดะฐัั ะฒะตัะพััะฝะพััะฝัะน ัะธะณะฝะฐะป
    - ััะธะปะธะฒะฐะตั rule-based ะฐะณะตะฝัะพะฒ
    - ะฝะต ะทะฐะผะตะฝัะตั reasoning
- **ะะฐััะตัะฝั ะฟัะพะตะบัะธัะพะฒะฐะฝะธั**:
    - ML ะบะฐะบ ัะพะฒะตัะฝะธะบ (advisor)
    - ัะธะณะฝะฐะป ะฒะตัะพััะฝะพััะธ ะดะปั ะฐะณัะตะณะฐัะธะธ
- **ะฃัะฐััะฒัะตั ะฒ ะฟัะพัะตััะฐั**:
    - ัะบะพัะธะฝะณ ะฝะฐ ะพัะฝะพะฒะต ะผะพะดะตะปะธ
    - ะฟะพะดะดะตัะถะบะฐ ัะตัะตะฝะธั ะฑะตะท ะผะพะฝะพะฟะพะปะธะธ ะฝะฐ ะธัะพะณ

## 13. DecisionAgent

- **ะะฐะทะฝะฐัะตะฝะธะต**: ะคะธะฝะฐะปัะฝะพะต ะฟัะธะฝััะธะต ัะตัะตะฝะธั.
- **ะัะฝะพะฒะฝะพะน ะฟัะธะฝัะธะฟ**: `DecisionAgent` ะฝะต ะพะฑััะฐะตััั. ะะฝ ัะฐัััะถะดะฐะตั.
- **ะัะฒะตัััะฒะตะฝะฝะพััั**:
    - ะฐะณัะตะณะธััะตั ัะธะณะฝะฐะปั ะพั ะฐะณะตะฝัะพะฒ
    - ะฟัะธะผะตะฝัะตั ะฒะตัะฐ ะธ ะฟะพัะพะณะธ
    - ัะพัะผะธััะตั ะธัะพะณะพะฒะพะต ัะตัะตะฝะธะต
    - ะณะตะฝะตัะธััะตั ะพะฑัััะฝะตะฝะธะต
- **ะัะพะณะพะฒัะน ัะตะทัะปััะฐั**:
```json
{
  "fraud": true,
  "confidence": 0.82,
  "decision": "BLOCK",
  "explanation": [
    "Unusual transaction velocity",
    "New device fingerprint",
    "High-risk merchant category"
  ]
}
```
- **ะะฐััะตัะฝั ะฟัะพะตะบัะธัะพะฒะฐะฝะธั**:
    - ะฐะณัะตะณะฐัะพั ัะธะณะฝะฐะปะพะฒ
    - rule-based policy engine
    - explainable decisioning
- **ะฃัะฐััะฒัะตั ะฒ ะฟัะพัะตััะฐั**:
    - ะพะฑัะตะดะธะฝะตะฝะธะต ัะธะณะฝะฐะปะพะฒ ะพั ะฐะณะตะฝัะพะฒ
    - ะฟัะธะผะตะฝะตะฝะธะต ะฟะพัะพะณะพะฒ/ะฒะตัะพะฒ
    - ะณะตะฝะตัะฐัะธั ะพะฑัััะฝะธะผะพะณะพ ัะตัะตะฝะธั

## 14. ะะปััะตะฒัะต ะฐััะธัะตะบัััะฝัะต ัะฒะพะนััะฒะฐ

- Explainability first
- Agent independence
- Open/Closed principle
- ML as advisor, not dictator
- Enterprise compliance ready

## 15. ะะพะทะผะพะถะฝัะต ัะฐััะธัะตะฝะธั

- LLM Reasoning Agent
- Human Review Agent
- Feedback Learning Agent
- Adaptive Weighting
- Real-time streaming (Kafka)

## 16. ะขัะฐะฝัะฟะพัั ะธ ะฒะตััะธั ััะตะผั ัะพะพะฑัะตะฝะธะน (ะฟัะพะตะบัะฝะพะต ัะตัะตะฝะธะต)

**ะัะฑัะฐะฝะฝัะน ะฟะพะดัะพะด ะฝะฐ ะฑัะดััะตะต**: ะพะดะธะฝ Kafka-ัะพะฟะธะบ + ะฟะพะปะต `schema_version` ะฒ ัะพะพะฑัะตะฝะธะธ.

ะะพัะตะผั ัะฐะบ:
- ะฟัะพัะต ัะบัะฟะปัะฐัะฐัะธั (ะผะตะฝััะต ัะพะฟะธะบะพะฒ/ะบะพะฝัััะผะตัะพะฒ)
- ะฟะปะฐะฒะฝะฐั ะผะธะณัะฐัะธั ะฒะตััะธะน ะฒะฝัััะธ ะพะดะฝะพะณะพ ะฟะพัะพะบะฐ
- ะตะดะธะฝะฐั ะธััะพัะธั ะดะปั ัะตะฟะปะตะตะฒ ะธ ะฐะฝะฐะปะธัะธะบะธ

### ะะฐะทะพะฒะฐั ััะตะผะฐ
- ะัะพะดััะธะน ัะพะฟะธะบ: `transactions`
- ะ ะบะฐะถะดะพะผ ัะพะพะฑัะตะฝะธะธ ะตััั `schema_version` (ะฝะฐะฟัะธะผะตั, `"1.0"`, `"2.0"`).
- ะัะบะตัััะฐัะพั ัะธัะฐะตั ะฒะตััะธั ะธ **ะฟัะธะฒะพะดะธั ัะพะฑััะธะต ะบ ะตะดะธะฝะพะผั ะฒะฝัััะตะฝะฝะตะผั ัะพัะผะฐัั** `Transaction`.

### ะะฐะบ ะพัะบะตัััะฐัะพั ัะฐะฑะพัะฐะตั ั ะฒะตััะธัะผะธ
1) ะะฟัะตะดะตะปัะตั `schema_version`.
2) ะัะฑะธัะฐะตั ัะพะพัะฒะตัััะฒัััะธะน ะฟะฐััะตั/ะฐะดะฐะฟัะตั (ะฝะฐะฟัะธะผะตั `parse_v1`, `parse_v2`).
3) ะัะตะพะฑัะฐะทัะตั ะฒัะพะด ะฒ ะตะดะธะฝัะน ะพะฑัะตะบั `Transaction`.
4) ะัะปะธ ะฒะตััะธั ะฝะตะธะทะฒะตััะฝะฐ โ ัะพะพะฑัะตะฝะธะต ััะพะดะธั ะฒ `dead-letter` ัะพะฟะธะบ.

### ะญะฒะพะปััะธั ััะตะผั (ะฑะตะท Schema Registry)
- ะัะฟะพะปัะทัะตะผ JSON (ัะธัะฐะตะผะพ ะดะปั MVP).
- ะะพะฑะฐะฒะปัะตะผ ะฝะพะฒัะต ะฟะพะปั, ะฝะต ะปะพะผะฐั ััะฐััะต.
- ะกัะฐััะต ะฟะพะปั ะฝะต ะฟะตัะตะธะผะตะฝะพะฒัะฒะฐะตะผ ะธ ะฝะต ะผะตะฝัะตะผ ัะธะฟั.
- ะะพะบัะผะตะฝัะธััะตะผ ะธะทะผะตะฝะตะฝะธั ะฒ `docs/` ะธ ะฟะพะดะดะตัะถะธะฒะฐะตะผ ะฒะฐะปะธะดะฐัะธั ะฒ ะฟัะพะดััะตัะต/ะบะพะฝัััะผะตัะต.

### ะัะธะผะตั JSON-ัะพะพะฑัะตะฝะธั (v1.0)
```json
{
  "schema_version": "1.0",
  "analysis_id": "3f1a7a1d-3fd2-4c71-9a7f-1b7f7a6a2c31",
  "transaction_id": "txn_000123",
  "timestamp": "2024-08-23T10:15:30Z",
  "amount": 149.90,
  "currency": "USD",
  "customer_id": "cust_987",
  "merchant": {
    "name": "Example Store",
    "category": "electronics",
    "type": "online",
    "risk_score": 0.72
  },
  "payment": {
    "card_present": false,
    "card_type": "credit"
  },
  "geo": {
    "country": "US",
    "city": "New York"
  },
  "device": {
    "type": "mobile",
    "fingerprint": "fp_abc123"
  }
}
```

### ะัะธะฒัะทะบะฐ ะบ `Transaction`
ะะฝัััะตะฝะฝะธะน ะพะฑัะตะบั `Transaction` ะฒ ะบะพะดะต ะฟะปะพัะบะธะน, ะฟะพััะพะผั ะพัะบะตัััะฐัะพั/ะฐะดะฐะฟัะตั
ะฟัะตะพะฑัะฐะทัะตั ะฒะปะพะถะตะฝะฝัั ััััะบัััั ะฒ ะฟะพะปั ะผะพะดะตะปะธ:
- `transaction_id`, `customer_id`, `timestamp`
- `amount`, `currency`, `payment.card_type` -> `card_type`
- `payment.card_present` -> `card_present`
- `merchant.name` -> `merchant`
- `merchant.category` -> `merchant_category`
- `merchant.type` -> `merchant_type`
- `merchant.risk_score` -> `merchant_risk_score`
- `geo.country` -> `country`, `geo.city` -> `city`
- `device.type` -> `device_type`, `device.fingerprint` -> `device_fingerprint`
- `channel` (ะตัะปะธ ะตััั ะฒ ัะพะพะฑัะตะฝะธะธ) -> `channel`
- `account_age`, `typical_spending_range`, `preferred_devices`, `fraud_protection_enabled`

**ะัะธะผะตัะฐะฝะธะต**: ะฟัะธ ัะพััะต ัะธััะตะผั ะผะพะถะฝะพ ะดะพะฑะฐะฒะธัั Schema Registry, ะฝะต ะปะพะผะฐั ะบะพะฝััะฐะบั, ัะฐะบ ะบะฐะบ ะฒะตััะธั ัะถะต ะทะฐัะธะบัะธัะพะฒะฐะฝะฐ ะฒ ัะพะพะฑัะตะฝะธะธ.

## 16. ะัะพะณ

ะะฐะฝะฝะฐั ะฐััะธัะตะบัััะฐ:
- ะพััะฐะถะฐะตั ัะตะฐะปัะฝัะต fraud-ะฟะปะฐััะพัะผั ะบััะฟะฝัั ัะธะฝัะตั-ะบะพะผะฟะฐะฝะธะน
- ะผะฐัััะฐะฑะธััะตััั ะพั MVP ะดะพ enterprise
- ะฟะพะดัะพะดะธั ะดะปั ะพะฑััะตะฝะธั, ัะบัะฟะตัะธะผะตะฝัะพะฒ ะธ production
